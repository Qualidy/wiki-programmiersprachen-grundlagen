# HTML Grundlagen 5 – CSS Layout (Flexbox & Grid)

!!! abstract "Lernziele"
    Nach diesem Kapitel kannst du …

    - **Flexbox** für flexible Layouts verwenden.
    - **CSS Grid** für zweidimensionale Layouts erstellen.
    - **Media Queries** für Responsive Design einsetzen.
    - **Positionierung** für komplexe Anordnungen.
    - **Box-Alignment** für die Ausrichtung von Elementen.

---

## Einführung

**Flexbox** und **Grid** sind moderne Layout-Methoden:
- **Flexbox**: Für **eindimensionale** Layouts (Zeile oder Spalte)
- **Grid**: Für **zweidimensionale** Layouts (Zeilen und Spalten)
- **Beide**: Ersetzen alte Methoden (float, table, positioning)

**Wichtige Fakten:**
- Flexbox ist seit 2012 Standard
- Grid ist seit 2017 Standard
- Beide funktionieren perfekt mit Responsive Design
- Mobile-First Ansatz wird empfohlen

---

## Flexbox

### Container-Eigenschaften

#### display: flex
```css
.container {
  display: flex;
}
```

#### flex-direction (Hauptachse)
```css
.container {
  display: flex;
  flex-direction: row;              /* Standard: Links nach rechts */
  flex-direction: row-reverse;      /* Rechts nach links */
  flex-direction: column;           /* Oben nach unten */
  flex-direction: column-reverse;   /* Unten nach oben */
}
```

#### flex-wrap (Umbruch)
```css
.container {
  display: flex;
  flex-wrap: nowrap;                /* Kein Umbruch (Standard) */
  flex-wrap: wrap;                  /* Umbruch erlaubt */
  flex-wrap: wrap-reverse;          /* Umbruch, umgekehrte Reihenfolge */
}
```

#### justify-content (Hauptachse)
```css
.container {
  display: flex;
  justify-content: flex-start;      /* Start (Standard) */
  justify-content: flex-end;        /* Ende */
  justify-content: center;          /* Zentriert */
  justify-content: space-between;   /* Zwischenräume gleichmäßig */
  justify-content: space-around;    /* Zwischenräume halb so groß */
  justify-content: space-evenly;    /* Alle Zwischenräume gleich */
}
```

#### align-items (Nebenachse)
```css
.container {
  display: flex;
  align-items: stretch;             /* Strecken (Standard) */
  align-items: flex-start;          /* Oben/Start */
  align-items: flex-end;            /* Unten/Ende */
  align-items: center;              /* Zentriert */
  align-items: baseline;            /* Text-Baseline */
}
```

#### align-content (Mehrere Zeilen)
```css
.container {
  display: flex;
  flex-wrap: wrap;
  align-content: stretch;           /* Strecken (Standard) */
  align-content: flex-start;        /* Oben/Start */
  align-content: flex-end;          /* Unten/Ende */
  align-content: center;            /* Zentriert */
  align-content: space-between;     /* Zwischenräume gleichmäßig */
  align-content: space-around;      /* Zwischenräume halb so groß */
}
```

#### gap (Abstand)
```css
.container {
  display: flex;
  gap: 20px;                        /* Alle Richtungen */
  gap: 10px 20px;                   /* Zeile Spalte */
  row-gap: 10px;                    /* Nur Zeilen */
  column-gap: 20px;                 /* Nur Spalten */
}
```

### Item-Eigenschaften

#### flex-grow (Wachstum)
```css
.item {
  flex-grow: 0;                     /* Kein Wachstum (Standard) */
  flex-grow: 1;                     /* Wächst gleichmäßig */
  flex-grow: 2;                     /* Wächst doppelt so stark */
}
```

#### flex-shrink (Schrumpfung)
```css
.item {
  flex-shrink: 1;                   /* Schrumpft (Standard) */
  flex-shrink: 0;                   /* Schrumpft nicht */
}
```

#### flex-basis (Grundgröße)
```css
.item {
  flex-basis: auto;                 /* Automatisch (Standard) */
  flex-basis: 200px;                /* Feste Größe */
  flex-basis: 50%;                  /* Prozentual */
}
```

#### flex (Kurzschreibweise)
```css
.item {
  flex: 1 1 auto;                   /* grow shrink basis */
  flex: 1;                          /* 1 1 0% */
  flex: none;                       /* 0 0 auto (kein Wachstum/Schrumpfung) */
}
```

#### align-self (Individuelle Ausrichtung)
```css
.item {
  align-self: auto;                 /* Eltern-Wert (Standard) */
  align-self: flex-start;           /* Start */
  align-self: flex-end;             /* Ende */
  align-self: center;               /* Zentriert */
  align-self: stretch;              /* Strecken */
}
```

#### order (Reihenfolge)
```css
.item {
  order: 0;                         /* Standard */
  order: -1;                        /* Vor anderen */
  order: 1;                         /* Nach anderen */
}
```

---

## CSS Grid

### Container-Eigenschaften

#### display: grid
```css
.container {
  display: grid;
}
```

#### grid-template-columns
```css
.container {
  display: grid;
  grid-template-columns: 100px 200px 100px; /* Feste Größen */
  grid-template-columns: 1fr 2fr 1fr;       /* Flexibel (Fraction) */
  grid-template-columns: repeat(3, 1fr);    /* Wiederholung */
  grid-template-columns: 1fr auto 1fr;      /* Auto-Größe */
}
```

#### grid-template-rows
```css
.container {
  display: grid;
  grid-template-rows: 100px 200px;          /* Feste Größen */
  grid-template-rows: 1fr 2fr;              /* Flexibel */
  grid-template-rows: repeat(2, 1fr);       /* Wiederholung */
}
```

#### gap (Abstand)
```css
.container {
  display: grid;
  gap: 20px;                        /* Alle Richtungen */
  gap: 10px 20px;                   /* Zeile Spalte */
  row-gap: 10px;                    /* Nur Zeilen */
  column-gap: 20px;                 /* Nur Spalten */
}
```

#### grid-template-areas (Benannte Bereiche)
```css
.container {
  display: grid;
  grid-template-areas:
    "header header header"
    "sidebar main main"
    "footer footer footer";
}

.header { grid-area: header; }
.sidebar { grid-area: sidebar; }
.main { grid-area: main; }
.footer { grid-area: footer; }
```

#### justify-items & align-items
```css
.container {
  display: grid;
  justify-items: start;             /* Links/Start */
  justify-items: end;               /* Rechts/Ende */
  justify-items: center;            /* Zentriert */
  justify-items: stretch;           /* Strecken (Standard) */

  align-items: start;               /* Oben/Start */
  align-items: end;                 /* Unten/Ende */
  align-items: center;              /* Zentriert */
  align-items: stretch;             /* Strecken (Standard) */
}
```

#### justify-content & align-content
```css
.container {
  display: grid;
  justify-content: start;           /* Start */
  justify-content: center;          /* Zentriert */
  justify-content: end;             /* Ende */
  justify-content: space-between;   /* Zwischenräume */
  justify-content: space-around;    /* Halbe Zwischenräume */
  justify-content: space-evenly;    /* Gleiche Zwischenräume */

  align-content: start;             /* Start */
  align-content: center;            /* Zentriert */
  align-content: end;               /* Ende */
  align-content: space-between;     /* Zwischenräume */
}
```

### Item-Eigenschaften

#### grid-column & grid-row
```css
.item {
  grid-column: 1 / 3;               /* Von Spalte 1 bis 3 */
  grid-column: 1 / span 2;          /* Start bei 1, spanne 2 */
  grid-column: 1 / -1;              /* Von 1 bis zum Ende */

  grid-row: 1 / 3;                  /* Von Zeile 1 bis 3 */
  grid-row: 1 / span 2;             /* Start bei 1, spanne 2 */
}
```

#### grid-area
```css
.item {
  grid-area: 1 / 1 / 3 / 4;         /* row-start / col-start / row-end / col-end */
  grid-area: header;                /* Benannter Bereich */
}
```

#### justify-self & align-self
```css
.item {
  justify-self: start;              /* Links/Start */
  justify-self: end;                /* Rechts/Ende */
  justify-self: center;             /* Zentriert */
  justify-self: stretch;            /* Strecken (Standard) */

  align-self: start;                /* Oben/Start */
  align-self: end;                  /* Unten/Ende */
  align-self: center;               /* Zentriert */
  align-self: stretch;              /* Strecken (Standard) */
}
```

---

## Responsive Design

### Media Queries
```css
/* Mobile-First: Alle Styles für kleine Geräte */
.container {
  display: flex;
  flex-direction: column;
}

/* Tablet (ab 768px) */
@media (min-width: 768px) {
  .container {
    flex-direction: row;
  }
}

/* Desktop (ab 1024px) */
@media (min-width: 1024px) {
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
}

/* Große Desktops (ab 1440px) */
@media (min-width: 1440px) {
  .container {
    max-width: 1600px;
  }
}
```

### Breakpoints
```css
/* Kleine Geräte (Smartphones) */
@media (max-width: 599px) {
  .sidebar { display: none; }
}

/* Mittlere Geräte (Tablets) */
@media (min-width: 600px) and (max-width: 1023px) {
  .sidebar { width: 30%; }
}

/* Große Geräte (Desktops) */
@media (min-width: 1024px) {
  .sidebar { width: 25%; }
}
```

### Container Queries (Modern!)
```css
/* Container-Queries sind neu und noch nicht überall unterstützt */
.container {
  container-type: inline-size;
}

@container (min-width: 400px) {
  .card {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
}
```

---

## Positionierung

### Relative Positionierung
```css
.relative {
  position: relative;
  top: 20px;        /* Nach unten verschieben */
  left: 30px;       /* Nach rechts verschieben */
}
```

### Absolute Positionierung
```css
.absolute {
  position: absolute;
  top: 0;           /* Oben */
  right: 0;         /* Rechts */
  width: 100px;
  height: 100px;
}

/* Relativ zum Eltern-Element */
.parent {
  position: relative;  /* Wichtig! */
}

.parent .absolute {
  position: absolute;
  top: 10px;
  right: 10px;
}
```

### Fixed Positionierung
```css
.fixed-header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;    /* Über anderen Elementen */
}
```

### Sticky Positionierung
```css
.sticky-header {
  position: sticky;
  top: 0;
  background: white;
  z-index: 100;
}
```

---

## Praktische Layout-Muster

### 1. Flexbox Navigation
```css
.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: #333;
  color: white;
}

.nav-links {
  display: flex;
  gap: 20px;
  list-style: none;
}

.nav-links a {
  color: white;
  text-decoration: none;
  padding: 5px 10px;
}

.nav-links a:hover {
  background: #555;
}
```

### 2. Grid Dashboard
```css
.dashboard {
  display: grid;
  grid-template-columns: 250px 1fr;
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    "header header"
    "sidebar main"
    "footer footer";
  min-height: 100vh;
  gap: 0;
}

.header { grid-area: header; background: #333; color: white; }
.sidebar { grid-area: sidebar; background: #f4f4f4; }
.main { grid-area: main; background: white; padding: 20px; }
.footer { grid-area: footer; background: #333; color: white; }

/* Responsive */
@media (max-width: 768px) {
  .dashboard {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "main"
      "sidebar"
      "footer";
  }
}
```

### 3. Flexbox Card Layout
```css
.card-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
}

.card {
  flex: 1 1 300px;  /* Wächst, Schrumpft, Basis 300px */
  max-width: 400px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  overflow: hidden;
}

.card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.card-content {
  padding: 20px;
}
```

### 4. Holy Grail Layout (Flexbox)
```css
.page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.header {
  flex: 0 0 auto;
  background: #333;
  color: white;
  padding: 1rem;
}

.main {
  flex: 1 1 auto;
  display: flex;
  gap: 20px;
  padding: 20px;
}

.sidebar {
  flex: 0 0 250px;
  background: #f4f4f4;
  padding: 20px;
}

.content {
  flex: 1;
  background: white;
  padding: 20px;
}

.footer {
  flex: 0 0 auto;
  background: #333;
  color: white;
  padding: 1rem;
  text-align: center;
}

/* Responsive */
@media (max-width: 768px) {
  .main {
    flex-direction: column;
  }

  .sidebar {
    flex: 0 0 auto;
  }
}
```

---

## Häufige Fehler & Best Practices

### Fehler 1: Flexbox vs. Grid Verwirrung
```css
/* ❌ Falsch: Grid für eindimensionale Layouts */
.grid-nav {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr; /* Überkill für Navigation */
}

/* ✅ Gut: Flexbox für Navigation */
.flex-nav {
  display: flex;
  gap: 20px;
}
```

### Fehler 2: Fehlende flex-shrink
```css
/* ❌ Falsch: Items schrumpfen nicht */
.item {
  flex: 1;
  min-width: 200px; /* Wird ignoriert */
}

/* ✅ Gut: flex-shrink verhindert Schrumpfung */
.item {
  flex: 1 0 200px; /* grow, shrink, basis */
}
```

### Fehler 3: Fehlende min-height
```css
/* ❌ Falsch: Container nicht hoch genug */
.container {
  display: flex;
  align-items: center; /* Funktioniert nicht */
}

/* ✅ Gut: Mindesthöhe */
.container {
  display: flex;
  min-height: 100vh;
  align-items: center;
}
```

### Best Practices
1. **Mobile-First** entwickeln
2. **Flexbox** für eindimensionale Layouts
3. **Grid** für zweidimensionale Layouts
4. **gap** statt margin für Abstände
5. **min-height** für Container
6. **box-sizing: border-box** global
7. **Klassen** für komplexe Layouts

---

## Zusammenfassung & Checkliste

### Wichtige Konzepte
- ✅ **Flexbox**: Container, Items, justify-content, align-items
- ✅ **Grid**: Columns, Rows, Areas, gap
- ✅ **Responsive**: Media Queries, Breakpoints
- ✅ **Positionierung**: Relative, Absolute, Fixed, Sticky
- ✅ **Alignment**: justify, align, gap

### Checkliste für Layouts
- [ ] Mobile-First Ansatz
- [ ] Flexbox für Navigationen
- [ ] Grid für komplexe Layouts
- [ ] Media Queries für Breakpoints
- [ ] gap für Abstände
- [ ] min-height für Container
- [ ] box-sizing: border-box

---

## Nächste Schritte

Nachdem du diese Grundlagen beherrschst:
1. **Responsive Design** - Media Queries vertiefen
2. **CSS Animationen** - Transitions, Keyframes
3. **CSS Variablen** --custom-properties
4. **CSS Frameworks** - Bootstrap, Tailwind

**Empfohlene Ressourcen:**
- [CSS-Tricks - Flexbox Guide](https://css-tricks.com/snippets/css/a-guide-to-flexbox/)
- [CSS-Tricks - Grid Guide](https://css-tricks.com/snippets/css/complete-guide-grid/)
- [MDN Web Docs - Flexbox](https://developer.mozilla.org/de/docs/Web/CSS/CSS_Flexible_Box_Layout)
- [MDN Web Docs - Grid](https://developer.mozilla.org/de/docs/Web/CSS/CSS_Grid_Layout)
