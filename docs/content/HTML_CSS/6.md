# HTML Grundlagen 6 – Accessibility & Best Practices

!!! abstract "Lernziele"
    Nach diesem Kapitel kannst du …

    - **Barrierefreiheit** (Accessibility) für alle Nutzer umsetzen.
    - **Semantisches HTML** für bessere Struktur verwenden.
    - **ARIA-Attribute** für komplexe Widgets ergänzen.
    - **Performance-Optimierung** für schnelle Ladezeiten.
    - **SEO-Grundlagen** für Suchmaschinen.

---

## Einführung

**Barrierefreiheit (Accessibility)** bedeutet, dass Webseiten für **alle Menschen** nutzbar sind:
- **Menschen mit Behinderungen** (Seh-, Hör-, Motorik-Einschränkungen)
- **Ältere Menschen** mit eingeschränkter Mobilität
- **Mobile Nutzer** mit kleinen Bildschirmen
- **Langsame Internetverbindungen**

**Wichtige Fakten:**
- **WCAG 2.1**: Web Content Accessibility Guidelines (Standard)
- **A, AA, AAA**: Konformitätsstufen
- **Gesetzliche Anforderungen**: In vielen Ländern verpflichtend
- **Business Case**: Bessere UX, mehr Reichweite, SEO-Vorteile

---

## Semantisches HTML

### Warum semantisch?
- **Bessere Struktur** für Screenreader
- **SEO-Vorteile** für Suchmaschinen
- **Einfacher wartbarer Code**
- **Standardisiertes Verhalten**

### Semantische Elemente (HTML5)
```html
<!-- ❌ Schlecht: Nur divs -->
<div id="header">...</div>
<div id="nav">...</div>
<div class="main">...</div>

<!-- ✅ Gut: Semantisch -->
<header>...</header>
<nav>...</nav>
<main>...</main>
<article>...</article>
<section>...</section>
<aside>...</aside>
<footer>...</footer>
```

### Beispiele

#### Navigation
```html
<nav aria-label="Hauptnavigation">
  <ul>
    <li><a href="#start">Start</a></li>
    <li><a href="#ueber">Über uns</a></li>
    <li><a href="#kontakt">Kontakt</a></li>
  </ul>
</nav>
```

#### Hauptinhalt
```html
<main>
  <article>
    <h1>Artikel-Titel</h1>
    <section>
      <h2>Kapitel 1</h2>
      <p>Inhalt...</p>
    </section>
  </article>
</main>
```

#### Nebeninhalt
```html
<aside>
  <h2>Verwandte Links</h2>
  <nav>
    <ul>
      <li><a href="#">Link 1</a></li>
    </ul>
  </nav>
</aside>
```

---

## ARIA-Attribute

### Was ist ARIA?
**ARIA (Accessible Rich Internet Applications)** ergänzt HTML für dynamische Inhalte.

### Wichtige ARIA-Rollen
```html
<!-- Navigation -->
<nav role="navigation" aria-label="Hauptnavigation">...</nav>

<!-- Hauptinhalt -->
<main role="main">...</main>

<!-- Banner -->
<header role="banner">...</header>

<!-- Suche -->
<form role="search">...</form>

<!-- Alert -->
<div role="alert" aria-live="assertive">Fehler aufgetreten!</div>

<!-- Progress Bar -->
<div role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
  75%
</div>

<!-- Tabs -->
<div role="tablist">
  <button role="tab" aria-selected="true">Tab 1</button>
  <button role="tab" aria-selected="false">Tab 2</button>
</div>
```

### ARIA-Attribute

#### aria-label (Beschreibung)
```html
<!-- Ohne sichtbares Label -->
<button aria-label="Schließen">X</button>

<!-- Icon-Button -->
<button aria-label="Suche">
  <svg>...</svg>
</button>
```

#### aria-labelledby (Verweis auf Label)
```html
<h2 id="section-title">Abschnitts-Titel</h2>
<section aria-labelledby="section-title">
  <!-- Inhalt -->
</section>
```

#### aria-describedby (Zusätzliche Beschreibung)
```html
<label for="password">Passwort:</label>
<input type="password" id="password"
       aria-describedby="password-hint">
<span id="password-hint">Mindestens 8 Zeichen</span>
```

#### aria-hidden (Verstecken für Screenreader)
```html
<!-- Dekorative Icons sollen nicht vorgelesen werden -->
<i class="icon-star" aria-hidden="true"></i>

<!-- Wichtige Info nicht verstecken -->
<span class="error" aria-hidden="false">Fehler!</span>
```

#### aria-live (Dynamische Inhalte)
```html
<!-- Wichtig: Status-Updates -->
<div aria-live="polite" id="status-message">
  Lade Daten...
</div>

<!-- Sofortige Benachrichtigung -->
<div aria-live="assertive" id="error-message">
  Fehler: Verbindung fehlgeschlagen!
</div>
```

---

## Tastatur-Navigation

### Fokus-Management
```css
/* Sichtbarer Fokus */
button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

/* Kein Fokus (nur wenn notwendig) */
.no-focus:focus {
  outline: none;
}
```

### Tab-Reihenfolge
```html
<!-- Logische Reihenfolge -->
<form>
  <label for="name">Name:</label>
  <input type="text" id="name" tabindex="1">

  <label for="email">Email:</label>
  <input type="email" id="email" tabindex="2">

  <button type="submit" tabindex="3">Senden</button>
</form>

<!-- Deaktiviert (nicht im Tab-Index) -->
<button type="button" tabindex="-1" disabled>Aktion</button>
```

### Skip-Links
```html
<!-- Am Anfang der Seite -->
<a href="#main-content" class="skip-link">
  Zum Hauptinhalt springen
</a>

<!-- CSS für Skip-Link -->
<style>
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #000;
  color: #fff;
  padding: 8px;
  text-decoration: none;
  z-index: 1000;
}

.skip-link:focus {
  top: 0;
}
</style>

<!-- Hauptinhalt -->
<main id="main-content">
  <!-- Inhalt -->
</main>
```

---

## Formular-Barrierefreiheit

### Labels
```html
<!-- Explizites Label (Beste Methode) -->
<label for="username">Benutzername:</label>
<input type="text" id="username" name="username" required>

<!-- Implizites Label -->
<label>
  Passwort:
  <input type="password" name="password" required>
</label>

<!-- ARIA-Label (nur wenn kein Label möglich) -->
<input type="text" aria-label="Suchbegriff" placeholder="Suchen...">
```

### Fehlermeldungen
```html
<!-- Erfolg -->
<div role="status" aria-live="polite">
  Formular erfolgreich gesendet!
</div>

<!-- Fehler -->
<div role="alert" aria-live="assertive">
  Bitte füllen Sie alle Pflichtfelder aus.
</div>

<!-- Inline-Fehler -->
<label for="email">Email:</label>
<input type="email" id="email" aria-invalid="true"
       aria-describedby="email-error">
<span id="email-error" style="color: red;">
  Ungültige E-Mail-Adresse
</span>
```

### Gruppierungen
```html
<fieldset>
  <legend>Adresse</legend>

  <label for="strasse">Straße:</label>
  <input type="text" id="strasse" name="strasse">

  <label for="plz">PLZ:</label>
  <input type="text" id="plz" name="plz">
</fieldset>
```

---

## Performance-Optimierung

### Bilder optimieren
```html
<!-- Responsive Bilder -->
<picture>
  <source srcset="bild-small.jpg" media="(max-width: 600px)">
  <source srcset="bild-medium.jpg" media="(max-width: 1200px)">
  <img src="bild-large.jpg" alt="Beschreibung" loading="lazy">
</picture>

<!-- Lazy Loading -->
<img src="bild.jpg" alt="Beschreibung" loading="lazy">

<!-- Modernes Format -->
<img src="bild.webp" alt="Beschreibung" type="image/webp">
```

### CSS-Optimierung
```css
/* Kritischer CSS (Above-the-Fold) */
/* Inline im <head> für schnelles Rendering */

/* Nicht-kritisches CSS */
/* In externer Datei, geladen mit preload */

/* Vermeide @import */
/* ❌ Schlecht */
@import url('other.css');

/* ✅ Gut */
<link rel="stylesheet" href="other.css">
```

### JavaScript-Optimierung
```html
<!-- Defer für nicht-kritisches JS -->
<script src="app.js" defer></script>

<!-- Async für unabhängiges JS -->
<script src="analytics.js" async></script>

<!-- Kritisches JS im Head -->
<script>
  // Kritische Funktionen
</script>
```

### Fonts optimieren
```css
/* Font-Display */
@font-face {
  font-family: 'CustomFont';
  src: url('font.woff2') format('woff2');
  font-display: swap; /* Fallback sofort, Font lädt im Hintergrund */
}

/* System-Fonts als Fallback */
body {
  font-family: 'CustomFont', -apple-system, BlinkMacSystemFont,
               'Segoe UI', Roboto, sans-serif;
}
```

---

## SEO-Grundlagen

### Meta-Tags
```html
<head>
  <!-- Basis -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO -->
  <title>Seitentitel | Website-Name</title>
  <meta name="description" content="Beschreibung der Seite (150-160 Zeichen)">
  <meta name="keywords" content="Schlüsselwort1, Schlüsselwort2">
  <meta name="author" content="Name des Autors">

  <!-- Robots -->
  <meta name="robots" content="index, follow">

  <!-- Open Graph (Social Media) -->
  <meta property="og:title" content="Seitentitel">
  <meta property="og:description" content="Beschreibung">
  <meta property="og:image" content="https://example.com/bild.jpg">
  <meta property="og:url" content="https://example.com">
</head>
```

### Semantische Struktur
```html
<!-- Klare Hierarchie -->
<h1>Seitentitel (nur 1x pro Seite)</h1>
  <h2>Kapitel 1</h2>
    <h3>Unterkapitel 1.1</h3>
    <h3>Unterkapitel 1.2</h3>
  <h2>Kapitel 2</h2>
```

### Interne Verlinkung
```html
<!-- Klare Links -->
<a href="/ueber-uns">Über uns</a>
<a href="/kontakt">Kontakt</a>

<!-- Anchor-Links -->
<a href="#kapitel-1">Zu Kapitel 1</a>
<section id="kapitel-1">...</section>
```

### Alt-Texte für Bilder
```html
<!-- Informativ -->
<img src="produkt.jpg" alt="Roter Laptop mit 15-Zoll-Display">

<!-- Dekorativ -->
<img src="hintergrund.png" alt="">

<!-- Komplex -->
<img src="chart.png" alt="Diagramm: Umsatzentwicklung 2023, steigend von 100k auf 200k">
```

---

## Praktische Beispiele

### Beispiel 1: Barrierefreie Navigation
```html
<header>
  <nav aria-label="Hauptnavigation">
    <ul>
      <li><a href="#start" aria-current="page">Start</a></li>
      <li><a href="#ueber">Über uns</a></li>
      <li><a href="#leistungen">Leistungen</a></li>
      <li><a href="#kontakt">Kontakt</a></li>
    </ul>
  </nav>
</header>

<style>
nav ul {
  display: flex;
  list-style: none;
  gap: 20px;
}

nav a {
  color: #333;
  text-decoration: none;
  padding: 10px;
  border: 2px solid transparent;
}

nav a:focus,
nav a:hover {
  border-color: #0066cc;
  background: #f0f0f0;
}

nav a[aria-current="page"] {
  font-weight: bold;
  border-color: #0066cc;
}
</style>
```

### Beispiel 2: Barrierefreies Formular
```html
<form id="contact-form" action="/kontakt" method="POST">
  <fieldset>
    <legend>Kontaktformular</legend>

    <div class="form-group">
      <label for="name">Name: *</label>
      <input type="text" id="name" name="name"
             required aria-required="true"
             aria-describedby="name-hint">
      <span id="name-hint" class="hint">Vor- und Nachname</span>
    </div>

    <div class="form-group">
      <label for="email">Email: *</label>
      <input type="email" id="email" name="email"
             required aria-required="true">
    </div>

    <div class="form-group">
      <label for="nachricht">Nachricht: *</label>
      <textarea id="nachricht" name="nachricht" rows="5"
                required aria-required="true"></textarea>
    </div>

    <button type="submit">Senden</button>
  </fieldset>
</form>

<div role="status" aria-live="polite" id="form-status"></div>

<style>
.form-group {
  margin-bottom: 1.5rem;
}

label {
  display: block;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

input, textarea {
  width: 100%;
  padding: 8px;
  border: 2px solid #ccc;
  font-size: 16px;
}

input:focus, textarea:focus {
  border-color: #0066cc;
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

.hint {
  font-size: 0.875rem;
  color: #666;
}

button {
  background: #0066cc;
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
}

button:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}
</style>
```

### Beispiel 3: Dark Mode mit prefers-color-scheme
```css
/* Standard (Light) */
:root {
  --bg-color: #ffffff;
  --text-color: #333333;
  --link-color: #0066cc;
}

/* Dark Mode (automatisch) */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-color: #1a1a1a;
    --text-color: #e0e0e0;
    --link-color: #66b3ff;
  }
}

/* Manueller Toggle (JavaScript) */
[data-theme="dark"] {
  --bg-color: #1a1a1a;
  --text-color: #e0e0e0;
  --link-color: #66b3ff;
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
}

a {
  color: var(--link-color);
}
```

---

## Häufige Fehler & Best Practices

### Fehler 1: Keine Labels
```html
<!-- ❌ Falsch -->
<input type="text" placeholder="Name">

<!-- ✅ Gut -->
<label for="name">Name:</label>
<input type="text" id="name">
```

### Fehler 2: Fehlende Alt-Texte
```html
<!-- ❌ Falsch -->
<img src="bild.jpg">

<!-- ✅ Gut -->
<img src="bild.jpg" alt="Beschreibung">
```

### Fehler 3: Kein Fokus-Indikator
```css
/* ❌ Falsch (unsichtbarer Fokus) */
button:focus {
  outline: none;
}

/* ✅ Gut (sichtbarer Fokus) */
button:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}
```

### Fehler 4: Nur Farbe für Information
```html
<!-- ❌ Falsch (nur Farbe) -->
<p style="color: red;">Fehler!</p>

<!-- ✅ Gut (Farbe + Symbol + Text) -->
<p style="color: red;">
  <span aria-label="Fehler">❌</span> Fehler aufgetreten!
</p>
```

### Best Practices
1. **Semantisches HTML** immer verwenden
2. **Labels** für alle interaktiven Elemente
3. **Alt-Texte** für alle Bilder
4. **Sichtbaren Fokus** für Tastatur-Nutzer
5. **ARIA** nur wenn nötig (HTML reicht oft)
6. **Farbe nicht als einzige Information**
7. **Tastatur-Navigation** testen
8. **Screenreader** testen (NVDA, VoiceOver)

---

## Tools & Testing

### Browser-DevTools
- **Lighthouse**: Accessibility-Score prüfen
- **Elements**: ARIA-Attribute inspecten
- **Console**: Warnungen für Accessibility-Fehler

### Browser-Erweiterungen
- **WAVE**: Accessibility-Evaluation Tool
- **axe DevTools**: Automatisierte Tests
- **Lighthouse**: Performance & Accessibility

### Screenreader
- **NVDA** (Windows, kostenlos)
- **JAWS** (Windows, kommerziell)
- **VoiceOver** (macOS/iOS, kostenlos)
- **TalkBack** (Android, kostenlos)

### Online-Tools
- **WebAIM WAVE**: wave.webaim.org
- **A11Y Project**: a11yproject.com
- **WebAIM Contrast Checker**: webaim.org/resources/contrastchecker

---

## Zusammenfassung & Checkliste

### Wichtige Konzepte
- ✅ **Semantik**: Richtige HTML-Elemente verwenden
- ✅ **ARIA**: Ergänzungen für dynamische Inhalte
- ✅ **Tastatur**: Vollständige Navigation ohne Maus
- ✅ **Formulare**: Klare Labels, Fehlermeldungen
- ✅ **Performance**: Schnelle Ladezeiten
- ✅ **SEO**: Meta-Tags, Struktur, Verlinkungen

### Checkliste für Accessibility
- [ ] Semantische HTML-Elemente
- [ ] Alle Bilder haben Alt-Texte
- [ ] Alle interaktiven Elemente haben Labels
- [ ] Sichtbarer Fokus-Indikator
- [ ] Tastatur-Navigation funktioniert
- [ ] Farben haben genug Kontrast (4.5:1)
- [ ] ARIA-Attribute korrekt eingesetzt
- [ ] Keine Informationen nur über Farbe
- [ ] Responsive Design (Mobile-First)
- [ ] Lighthouse Score > 90

---

## Nächste Schritte

Nachdem du diese Grundlagen beherrschst:
1. **WCAG 2.1** im Detail studieren
2. **Screenreader** selbst testen
3. **Automatisierte Tests** (Axe, Lighthouse)
4. **User Testing** mit echten Nutzern

**Empfohlene Ressourcen:**
- [WCAG 2.1](https://www.w3.org/WAI/WCAG21/quickref/)
- [MDN Accessibility](https://developer.mozilla.org/de/docs/Web/Accessibility)
- [WebAIM](https://webaim.org/)
- [A11Y Project](https://www.a11yproject.com/)
- [WAVE Tool](https://wave.webaim.org/)
